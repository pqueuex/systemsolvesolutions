<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Raspberry Pi File Server Setup - System Solve Solutions</title>
    <link rel="stylesheet" href="../style.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <div class="logo-space">
                <a href="../index.html" class="logo-text">System Solve Solutions</a>
            </div>
        </div>

        <!-- Main Container -->
        <div class="main-container">
            <!-- Sidebar -->
            <div class="sidebar">
                <div class="categories-section">
                    <a href="../index.html" class="category">Home</a>
                    <a href="../about.html" class="category">About</a>
                    <a href="../manuals.html" class="category">Manuals</a>
                    <a href="../contact.html" class="category">Contact</a>
                </div>
            </div>

            <!-- Manual Content -->
            <div class="service-page-content">
                <div class="breadcrumb">
                    <a href="../index.html">Home</a> > <a href="../manuals.html">Manuals</a> > Raspberry Pi File Server
                </div>

                <div class="service-header">
                    <h1>Raspberry Pi File Server Setup</h1>
                    <p><strong>Step-by-step instructions for setting up a file server with Samba, SSH, and firewall security.</strong></p>
                    <p>These procedures apply to Raspberry Pi 5, 4 or 3 with Raspberry Pi OS (64-Bit), (32-Bit) or (Legacy, 32-Bit) with or without Samba, SSH, and/or firewall configurations.</p>
                </div>

                <div class="about-section">
                    <h2>1. General:</h2>
                    <p>The procedures below are optimized for setting up a file server on a Raspberry Pi 5, 4 or 3 with Raspberry Pi OS (64-Bit), (32-Bit) or (Legacy, 32-Bit) connected via Ethernet. Management connectivity is provided via SSH. A firewall is included for security.</p>
                </div>

                <div class="about-section">
                    <h2>2. Internet access during setup:</h2>
                    <p>Many of the steps below assume and require the target Raspberry Pi to have Internet access during setup. This is typically accomplished by connecting the Pi to a router via Ethernet cable or Wi-Fi.</p>
                </div>

                <div class="about-section">
                    <h2>3. Hardware requirements:</h2>
                    <ul>
                        <li>Raspberry Pi 5, 4, or 3</li>
                        <li>MicroSD card (32GB or larger, Class 10 recommended)</li>
                        <li>External USB drive or SSD for file storage</li>
                        <li>Ethernet cable (recommended) or Wi-Fi connection</li>
                        <li>Power supply appropriate for your Pi model</li>
                    </ul>
                </div>

                <div class="about-section">
                    <h2>4. Software requirements:</h2>
                    <ul>
                        <li>Raspberry Pi OS (Latest version recommended)</li>
                        <li>SSH client software (PuTTY for Windows, Terminal for Mac/Linux)</li>
                    </ul>
                </div>

                <div class="about-section">
                    <h2>5. Initial OS Installation:</h2>
                    <ol>
                        <li>Download and install Raspberry Pi Imager from the official website</li>
                        <li>Flash Raspberry Pi OS to your microSD card</li>
                        <li>Before ejecting the SD card, enable SSH by creating an empty file named <code>ssh</code> in the boot partition</li>
                        <li>If using Wi-Fi, create a file named <code>wpa_supplicant.conf</code> in the boot partition with your network credentials</li>
                        <li>Insert SD card into Pi and power on</li>
                        <li>Locate the Pi's IP address using your router's admin interface</li>
                    </ol>
                </div>

                <div class="about-section">
                    <h2>6. Initial SSH connection and configuration:</h2>
                    <ol>
                        <li>Connect to Pi via SSH: <code>ssh pi@[PI_IP_ADDRESS]</code></li>
                        <li>Default password is <code>raspberry</code></li>
                        <li>Run <code>sudo raspi-config</code> to configure:</li>
                        <ul>
                            <li>Change default password</li>
                            <li>Enable SSH (if not already enabled)</li>
                            <li>Expand filesystem to use full SD card</li>
                            <li>Set timezone and locale</li>
                            <li>Reboot when configuration is complete</li>
                        </ul>
                    </ol>
                </div>

                <div class="about-section">
                    <h2>7. System updates:</h2>
                    <p>Update the system packages to ensure security and compatibility:</p>
                    <div class="code-block">sudo apt update && sudo apt upgrade -y</div>
                </div>

                <div class="about-section">
                    <h2>8. External storage preparation:</h2>
                    <ol>
                        <li>Connect external USB drive to a USB 3.0 port (blue connector)</li>
                        <li>Identify the drive: <code>sudo fdisk -l</code></li>
                        <li>Create mount point: <code>sudo mkdir /mnt/fileserver</code></li>
                        <li>Format drive if needed: <code>sudo mkfs.ext4 /dev/sda1</code></li>
                        <li>Mount the drive: <code>sudo mount /dev/sda1 /mnt/fileserver</code></li>
                        <li>Set proper ownership: <code>sudo chown -R pi:pi /mnt/fileserver</code></li>
                    </ol>
                </div>

                <div class="about-section">
                    <h2>9. Permanent drive mounting:</h2>
                    <ol>
                        <li>Get drive UUID: <code>sudo blkid</code></li>
                        <li>Edit fstab: <code>sudo nano /etc/fstab</code></li>
                        <li>Add line: <code>UUID=[your-drive-uuid] /mnt/fileserver ext4 defaults,auto,users,rw,nofail 0 0</code></li>
                        <li>Test automatic mounting: <code>sudo umount /mnt/fileserver && sudo mount -a</code></li>
                    </ol>
                </div>

                <div class="about-section">
                    <h2>10. Samba installation:</h2>
                    <p>Install Samba server and common utilities:</p>
                    <div class="code-block">sudo apt install samba samba-common-bin -y</div>
                </div>

                <div class="about-section">
                    <h2>11. Samba configuration:</h2>
                    <ol>
                        <li>Backup original configuration: <code>sudo cp /etc/samba/smb.conf /etc/samba/smb.conf.backup</code></li>
                        <li>Edit Samba configuration: <code>sudo nano /etc/samba/smb.conf</code></li>
                        <li>Add the following share configuration at the end of the file:</li>
                    </ol>
                    <div class="code-block">[FileServer]<br>
comment = Network File Server<br>
path = /mnt/fileserver<br>
browseable = yes<br>
writeable = yes<br>
only guest = no<br>
create mask = 0777<br>
directory mask = 0777<br>
public = no<br>
valid users = pi</div>
                </div>

                <div class="about-section">
                    <h2>12. Samba user setup:</h2>
                    <p>Create Samba user account:</p>
                    <div class="code-block">sudo smbpasswd -a pi</div>
                    <p>Enter password when prompted (can be different from system password)</p>
                </div>

                <div class="about-section">
                    <h2>13. Samba service management:</h2>
                    <p>Enable and start Samba services:</p>
                    <div class="code-block">sudo systemctl restart smbd<br>
sudo systemctl enable smbd<br>
sudo systemctl restart nmbd<br>
sudo systemctl enable nmbd</div>
                </div>

                <div class="about-section">
                    <h2>14. SSH security configuration:</h2>
                    <ol>
                        <li>Edit SSH daemon configuration: <code>sudo nano /etc/ssh/sshd_config</code></li>
                        <li>Modify the following settings:</li>
                        <ul>
                            <li><code>Port 2222</code> (change from default port 22)</li>
                            <li><code>PermitRootLogin no</code></li>
                            <li><code>PasswordAuthentication yes</code></li>
                            <li><code>AllowUsers pi</code></li>
                        </ul>
                        <li>Restart SSH service: <code>sudo systemctl restart ssh</code></li>
                    </ol>
                </div>

                <div class="about-section">
                    <h2>15. Firewall installation and configuration:</h2>
                    <ol>
                        <li>Install UFW firewall: <code>sudo apt install ufw -y</code></li>
                        <li>Set default policies:</li>
                    </ol>
                    <div class="code-block">sudo ufw default deny incoming<br>
sudo ufw default allow outgoing</div>
                    <p>3. Allow necessary services:</p>
                    <div class="code-block">sudo ufw allow 2222/tcp comment 'SSH'<br>
sudo ufw allow 445/tcp comment 'Samba SMB'<br>
sudo ufw allow 139/tcp comment 'Samba NetBIOS'<br>
sudo ufw allow from 192.168.1.0/24 comment 'Local Network'</div>
                    <p>4. Enable firewall: <code>sudo ufw --force enable</code></p>
                </div>

                <div class="about-section">
                    <h2>16. User management (optional):</h2>
                    <p>To create additional users for the file server:</p>
                    <div class="code-block">sudo adduser [username]<br>
sudo usermod -aG sambashare [username]<br>
sudo smbpasswd -a [username]</div>
                </div>

                <div class="about-section">
                    <h2>17. Directory structure setup:</h2>
                    <p>Create organized directory structure:</p>
                    <div class="code-block">sudo mkdir /mnt/fileserver/shared<br>
sudo mkdir /mnt/fileserver/private<br>
sudo chmod 777 /mnt/fileserver/shared<br>
sudo chown pi:pi /mnt/fileserver/private</div>
                </div>

                <div class="about-section">
                    <h2>18. Performance optimization:</h2>
                    <p>Add performance settings to <code>/etc/samba/smb.conf</code> under <code>[global]</code> section:</p>
                    <div class="code-block">socket options = TCP_NODELAY IPTOS_LOWDELAY<br>
read raw = yes<br>
write raw = yes<br>
max xmit = 65536</div>
                </div>

                <div class="about-section">
                    <h2>19. Testing file server access:</h2>
                    <ul>
                        <li><strong>Windows</strong>: Open File Explorer, type <code>\\[PI_IP_ADDRESS]\FileServer</code></li>
                        <li><strong>Mac</strong>: Open Finder, press Cmd+K, type <code>smb://[PI_IP_ADDRESS]/FileServer</code></li>
                        <li><strong>Linux</strong>: Open file manager, type <code>smb://[PI_IP_ADDRESS]/FileServer</code></li>
                    </ul>
                </div>

                <div class="about-section">
                    <h2>20. Testing SSH access:</h2>
                    <p>Connect using new SSH port:</p>
                    <div class="code-block">ssh -p 2222 pi@[PI_IP_ADDRESS]</div>
                </div>

                <div class="about-section">
                    <h2>21. Status verification:</h2>
                    <p>Check service status:</p>
                    <div class="code-block">sudo systemctl status smbd<br>
sudo systemctl status ssh<br>
sudo ufw status verbose</div>
                </div>

                <div class="about-section">
                    <h2>22. Troubleshooting:</h2>
                    <ul>
                        <li><strong>Cannot access shares</strong>: Verify firewall rules and Samba user passwords</li>
                        <li><strong>Slow performance</strong>: Check USB 3.0 connection and network speed</li>
                        <li><strong>Permission denied</strong>: Verify file permissions and user group membership</li>
                        <li><strong>SSH connection refused</strong>: Check port number and firewall configuration</li>
                    </ul>
                </div>

                <div class="about-section">
                    <h2>23. Log file locations:</h2>
                    <ul>
                        <li>Samba logs: <code>/var/log/samba/</code></li>
                        <li>SSH logs: <code>/var/log/auth.log</code></li>
                        <li>System logs: <code>/var/log/syslog</code></li>
                        <li>Firewall logs: <code>/var/log/ufw.log</code></li>
                    </ul>
                </div>

                <div class="about-section">
                    <h2>24. Maintenance procedures:</h2>
                    <p>Regular maintenance tasks:</p>
                    <ul>
                        <li>Monitor disk usage: <code>df -h</code></li>
                        <li>Check system resources: <code>htop</code></li>
                        <li>Review logs for errors</li>
                        <li>Update system packages monthly</li>
                        <li>Test backup and restore procedures</li>
                    </ul>
                </div>

                <div class="about-section">
                    <h2>Summary</h2>
                    <p><strong>Setup time</strong>: Approximately 30-45 minutes</p>
                    <p><strong>Hardware cost</strong>: Under $100 for complete system</p>
                    <p><strong>Performance</strong>: Suitable for home and small office file sharing requirements</p>
                </div>

                <div class="contact-cta">
                    <h2>Need Help?</h2>
                    <p>Having trouble with your Raspberry Pi setup? Contact our technical support team serving Leesburg, FL and Central Florida.</p>
                    <p>
                        <a href="tel:+13523505553">352-350-5553</a> | 
                        <a href="mailto:info@systemsolvesolutions.com">info@systemsolvesolutions.com</a>
                    </p>
                </div>
            </div>

            <!-- Footer -->
            <div class="footer">
                <p>&copy; 2025 SYSTEM SOLVE SOLUTIONS</p>
                <p>Serving Central Florida: Leesburg • Mount Dora • Clermont • Eustis • Tavares • Groveland • Lady Lake • Fruitland Park • Umatilla • Sorrento • Astatula • Howey-in-the-Hills • Mascotte • Minneola • Montverde • Oakland • Winter Garden • Apopka • The Villages • Sanford • DeLand • Ocala • Gainesville • Orlando • Kissimmee • St. Cloud • Lakeland • Winter Haven • Sebring • Inverness • Crystal River • Brooksville • Spring Hill</p>
                <p>
                    <a href="mailto:info@systemsolvesolutions.com">Contact: info@systemsolvesolutions.com</a>
                    <a href="tel:+13523505553">352-350-5553</a>
                </p>
                <p>
                    <a href="../support/index.html">Support</a>
                    <a href="../support/policy.html">Policy</a>
                </p>
            </div>
        </div>
    </div>
</body>
</html>
